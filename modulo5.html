<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aplicación Práctica - CyberSec Elite Academy</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #0f172a;
            --secondary-color: #1e293b;
            --accent-color: #8b5cf6;
            --practical-color: #059669;
            --gold-color: #f59e0b;
            --success-color: #10b981;
            --danger-color: #ef4444;
            --warning-color: #f59e0b;
            --info-color: #3b82f6;
            --light-bg: #f8fafc;
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --border-color: #e2e8f0;
        }

        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            line-height: 1.7;
            color: var(--text-primary);
            background: var(--light-bg);
        }

        /* Navigation */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(20px);
            padding: 1rem 0;
            z-index: 1000;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            color: white;
            text-decoration: none;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--practical-color), #10b981);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .logo-text {
            font-size: 1.2rem;
            font-weight: 700;
            color: white;
        }

        .breadcrumb {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
        }

        .breadcrumb a {
            color: var(--gold-color);
            text-decoration: none;
        }

        .back-btn {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        /* Main Container */
        .main-container {
            margin-top: 80px;
            display: flex;
            min-height: calc(100vh - 80px);
            max-width: 1600px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Sidebar */
        .sidebar {
            background: white;
            border-right: 1px solid var(--border-color);
            padding: 2rem 0;
            width: 320px;
            min-width: 320px;
            max-width: 320px;
            height: calc(100vh - 80px);
            overflow-y: auto;
            position: sticky;
            top: 80px;
        }

        .module-info {
            padding: 0 2rem;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 2rem;
            padding-bottom: 2rem;
        }

        .module-number {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--practical-color), #10b981);
            color: white;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 1rem;
        }

        .module-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .module-meta {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }

        .progress-section {
            padding: 0 2rem;
            margin-bottom: 2rem;
        }

        .progress-title {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e5e7eb;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 0.5rem;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--practical-color), #10b981);
            width: 5%;
            transition: width 0.3s ease;
        }

        .progress-text {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        /* Chapter Navigation */
        .chapter-nav {
            list-style: none;
            padding: 0 1rem;
        }

        .chapter-item {
            margin-bottom: 0.5rem;
        }

        .chapter-link {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            color: var(--text-secondary);
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .chapter-link:hover {
            background: var(--light-bg);
            color: var(--primary-color);
        }

        .chapter-link.active {
            background: linear-gradient(135deg, var(--practical-color), #10b981);
            color: white;
            box-shadow: 0 4px 12px rgba(5, 150, 105, 0.3);
        }

        .chapter-status {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #e5e7eb;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            flex-shrink: 0;
        }

        .chapter-status.completed {
            background: var(--success-color);
            color: white;
        }

        .chapter-status.current {
            background: var(--practical-color);
            color: white;
        }

        /* Content Area */
        .content-area {
            flex: 1;
            padding: 2rem;
            max-width: calc(100vw - 320px);
            overflow-x: hidden;
        }

        .content-wrapper {
            max-width: 1000px;
            margin: 0 auto;
        }

        .content-header {
            margin-bottom: 3rem;
        }

        .chapter-badge {
            display: inline-block;
            background: linear-gradient(135deg, var(--practical-color), #10b981);
            color: white;
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .content-title {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--primary-color);
            margin-bottom: 1rem;
            line-height: 1.2;
        }

        .content-description {
            font-size: 1.1rem;
            color: var(--text-secondary);
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        .chapter-meta {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
            padding: 1.5rem;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .meta-item {
            text-align: center;
        }

        .meta-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--practical-color);
        }

        .meta-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Content Sections */
        .content-section {
            background: white;
            border-radius: 12px;
            padding: 2.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            border-left: 4px solid var(--practical-color);
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .section-content {
            color: var(--text-primary);
            line-height: 1.7;
        }

        .section-content h3 {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--primary-color);
            margin: 2rem 0 1rem 0;
        }

        .section-content p {
            margin-bottom: 1.5rem;
        }

        .section-content ul {
            margin-bottom: 1.5rem;
            padding-left: 1.5rem;
        }

        .section-content li {
            margin-bottom: 0.5rem;
            color: var(--text-secondary);
        }

        .section-content strong {
            color: var(--primary-color);
            font-weight: 600;
        }

        /* Lab Environment */
        .lab-environment {
            background: linear-gradient(135deg, #0f172a, #1e293b);
            color: white;
            border-radius: 12px;
            padding: 2.5rem;
            margin: 2rem 0;
            border: none;
        }

        .lab-title {
            color: var(--gold-color);
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .lab-description {
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 1.5rem;
        }

        .lab-interface {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 2rem;
            margin: 1.5rem 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .terminal {
            background: #000;
            color: #00ff00;
            padding: 1.5rem;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            height: 400px;
            overflow-y: auto;
            margin: 1rem 0;
            border: 1px solid #333;
            white-space: pre-wrap;
        }

        .controls {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
            flex-wrap: wrap;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: var(--practical-color);
            color: white;
        }

        .btn-primary:hover {
            background: #047857;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .btn-danger {
            background: var(--danger-color);
            color: white;
        }

        .btn-danger:hover {
            background: #dc2626;
        }

        .btn-warning {
            background: var(--warning-color);
            color: white;
        }

        .btn-warning:hover {
            background: #d97706;
        }

        /* Simulation Grid */
        .simulation-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .simulation-card {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .simulation-card:hover {
            border-color: var(--practical-color);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }

        .simulation-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .simulation-icon {
            width: 50px;
            height: 50px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
        }

        .phishing-icon {
            background: linear-gradient(135deg, #ef4444, #dc2626);
        }

        .pentest-icon {
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
        }

        .zerotrust-icon {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
        }

        .incident-icon {
            background: linear-gradient(135deg, #f59e0b, #d97706);
        }

        .simulation-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--primary-color);
        }

        .simulation-difficulty {
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .difficulty-beginner {
            background: #d1fae5;
            color: #065f46;
        }

        .difficulty-intermediate {
            background: #fef3c7;
            color: #92400e;
        }

        .difficulty-advanced {
            background: #fecaca;
            color: #991b1b;
        }

        .difficulty-expert {
            background: #fde2e8;
            color: #be123c;
        }

        .simulation-description {
            color: var(--text-secondary);
            margin: 1rem 0;
            line-height: 1.6;
        }

        .simulation-stats {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1.5rem;
            padding-top: 1rem;
            border-top: 1px solid var(--border-color);
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-weight: 700;
            color: var(--practical-color);
        }

        .stat-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        /* Project Tracker */
        .project-tracker {
            background: white;
            border-radius: 12px;
            padding: 2.5rem;
            margin: 2rem 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .tracker-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .project-phases {
            display: grid;
            gap: 1rem;
        }

        .phase-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background: var(--light-bg);
            border-radius: 8px;
            border-left: 4px solid #e5e7eb;
            transition: all 0.3s ease;
        }

        .phase-item.completed {
            border-left-color: var(--success-color);
            background: rgba(16, 185, 129, 0.1);
        }

        .phase-item.active {
            border-left-color: var(--practical-color);
            background: rgba(5, 150, 105, 0.1);
        }

        .phase-item.pending {
            border-left-color: #e5e7eb;
        }

        .phase-status {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            flex-shrink: 0;
        }

        .phase-status.completed {
            background: var(--success-color);
            color: white;
        }

        .phase-status.active {
            background: var(--practical-color);
            color: white;
        }

        .phase-status.pending {
            background: #e5e7eb;
            color: var(--text-secondary);
        }

        .phase-content {
            flex: 1;
        }

        .phase-title {
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 0.25rem;
        }

        .phase-description {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Assessment Matrix */
        .assessment-matrix {
            background: white;
            border-radius: 12px;
            padding: 2.5rem;
            margin: 2rem 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .matrix-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .assessment-item {
            background: var(--light-bg);
            padding: 1.5rem;
            border-radius: 8px;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .assessment-item:hover {
            border-color: var(--practical-color);
            transform: translateY(-2px);
        }

        .assessment-item.completed {
            border-color: var(--success-color);
            background: rgba(16, 185, 129, 0.1);
        }

        .assessment-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .assessment-title {
            font-weight: 600;
            color: var(--primary-color);
        }

        .assessment-score {
            font-weight: 700;
            color: var(--practical-color);
        }

        .assessment-description {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Certificate Section */
        .certificate-section {
            background: linear-gradient(135deg, var(--gold-color), #d97706);
            color: white;
            border-radius: 12px;
            padding: 3rem;
            margin: 3rem 0;
            text-align: center;
        }

        .certificate-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
        }

        .certificate-title {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .certificate-description {
            font-size: 1.1rem;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 2rem;
        }

        .certificate-requirements {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 2rem 0;
            text-align: left;
        }

        /* Navigation Buttons */
        .content-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 4rem;
            padding-top: 2rem;
            border-top: 1px solid var(--border-color);
            flex-wrap: wrap;
            gap: 1rem;
        }

        .nav-btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .nav-btn-primary {
            background: linear-gradient(135deg, var(--practical-color), #10b981);
            color: white;
            box-shadow: 0 4px 12px rgba(5, 150, 105, 0.3);
        }

        .nav-btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(5, 150, 105, 0.4);
        }

        .nav-btn-secondary {
            background: white;
            color: var(--text-secondary);
            border: 2px solid var(--border-color);
        }

        .nav-btn-secondary:hover {
            border-color: var(--practical-color);
            color: var(--practical-color);
        }

        /* Status Indicators */
        .status-indicator {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .status-success {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success-color);
        }

        .status-warning {
            background: rgba(245, 158, 11, 0.1);
            color: var(--warning-color);
        }

        .status-info {
            background: rgba(59, 130, 246, 0.1);
            color: var(--info-color);
        }

        .status-danger {
            background: rgba(239, 68, 68, 0.1);
            color: var(--danger-color);
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .main-container {
                flex-direction: column;
            }

            .sidebar {
                position: relative;
                width: 100%;
                max-width: 100%;
                height: auto;
                top: 0;
            }

            .content-area {
                max-width: 100%;
            }

            .chapter-meta {
                grid-template-columns: repeat(2, 1fr);
            }

            .simulation-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .nav-container {
                padding: 0 1rem;
                flex-wrap: wrap;
                gap: 1rem;
            }

            .content-area {
                padding: 1rem;
            }

            .content-title {
                font-size: 2rem;
            }

            .controls {
                flex-direction: column;
            }

            .content-navigation {
                flex-direction: column;
            }

            .chapter-meta {
                grid-template-columns: repeat(2, 1fr);
                gap: 1rem;
            }

            .matrix-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .chapter-meta {
                grid-template-columns: 1fr;
            }
            
            .content-section {
                padding: 1.5rem;
            }
            
            .lab-environment {
                padding: 1.5rem;
            }

            .certificate-section {
                padding: 2rem;
            }
        }

        /* Animations */
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .loading {
            animation: pulse 2s infinite;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: slideInUp 0.5s ease-out;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="#" class="logo" onclick="goBack()">
                <div class="logo-icon">🎯</div>
                <div class="logo-text">CyberSec Elite</div>
            </a>
            <div class="breadcrumb">
                <a href="#" onclick="goBack()">Inicio</a> / <a href="#" onclick="goBack()">Módulos</a> / Aplicación Práctica
            </div>
            <a href="#" class="back-btn" onclick="goBack()">
                ← Volver al Inicio
            </a>
        </div>
    </nav>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="module-info">
                <div class="module-number">5</div>
                <h2 class="module-title">Aplicación Práctica</h2>
                <div class="module-meta">
                    ⏱️ 14 semanas • 🎯 Avanzado • 📚 15 proyectos
                </div>
            </div>

            <div class="progress-section">
                <div class="progress-title">Progreso del Módulo</div>
                <div class="progress-bar">
                    <div class="progress-fill" id="moduleProgress"></div>
                </div>
                <div class="progress-text">0 de 15 proyectos completados (0%)</div>
            </div>

            <ul class="chapter-nav">
                <li class="chapter-item">
                    <a href="#" class="chapter-link active" onclick="loadProject(1)">
                        <div class="chapter-status current">1</div>
                        <span>Lab de Phishing Simulation</span>
                    </a>
                </li>
                <li class="chapter-item">
                    <a href="#" class="chapter-link" onclick="loadProject(2)">
                        <div class="chapter-status">2</div>
                        <span>Penetration Testing Lab</span>
                    </a>
                </li>
                <li class="chapter-item">
                    <a href="#" class="chapter-link" onclick="loadProject(3)">
                        <div class="chapter-status">3</div>
                        <span>Incident Response Simulation</span>
                    </a>
                </li>
                <li class="chapter-item">
                    <a href="#" class="chapter-link" onclick="loadProject(4)">
                        <div class="chapter-status">4</div>
                        <span>Zero Trust Implementation</span>
                    </a>
                </li>
                <li class="chapter-item">
                    <a href="#" class="chapter-link" onclick="loadProject(5)">
                        <div class="chapter-status">5</div>
                        <span>Red Team Exercise</span>
                    </a>
                </li>
                <li class="chapter-item">
                    <a href="#" class="chapter-link" onclick="loadProject(6)">
                        <div class="chapter-status">6</div>
                        <span>Forensics Investigation</span>
                    </a>
                </li>
                <li class="chapter-item">
                    <a href="#" class="chapter-link" onclick="loadProject(7)">
                        <div class="chapter-status">7</div>
                        <span>SOC Analyst Simulation</span>
                    </a>
                </li>
                <li class="chapter-item">
                    <a href="#" class="chapter-link" onclick="loadProject(8)">
                        <div class="chapter-status">8</div>
                        <span>Malware Analysis Lab</span>
                    </a>
                </li>
                <li class="chapter-item">
                    <a href="#" class="chapter-link" onclick="loadProject(9)">
                        <div class="chapter-status">9</div>
                        <span>Cloud Security Assessment</span>
                    </a>
                </li>
                <li class="chapter-item">
                    <a href="#" class="chapter-link" onclick="loadProject(10)">
                        <div class="chapter-status">10</div>
                        <span>Social Engineering Campaign</span>
                    </a>
                </li>
                <li class="chapter-item">
                    <a href="#" class="chapter-link" onclick="loadProject(11)">
                        <div class="chapter-status">11</div>
                        <span>Risk Assessment Framework</span>
                    </a>
                </li>
                <li class="chapter-item">
                    <a href="#" class="chapter-link" onclick="loadProject(12)">
                        <div class="chapter-status">12</div>
                        <span>Compliance Audit Project</span>
                    </a>
                </li>
                <li class="chapter-item">
                    <a href="#" class="chapter-link" onclick="loadProject(13)">
                        <div class="chapter-status">13</div>
                        <span>Threat Intelligence Platform</span>
                    </a>
                </li>
                <li class="chapter-item">
                    <a href="#" class="chapter-link" onclick="loadProject(14)">
                        <div class="chapter-status">14</div>
                        <span>Security Awareness Training</span>
                    </a>
                </li>
                <li class="chapter-item">
                    <a href="#" class="chapter-link" onclick="loadProject(15)">
                        <div class="chapter-status">15</div>
                        <span>Capstone Project Portfolio</span>
                    </a>
                </li>
            </ul>
        </aside>

        <!-- Content Area -->
        <main class="content-area">
            <div class="content-wrapper">
                <header class="content-header">
                    <div class="chapter-badge">🎯 Proyecto 1</div>
                    <h1 class="content-title">Lab de Phishing Simulation</h1>
                    <p class="content-description">
                        Implementa y ejecuta una campaña completa de phishing simulation para evaluar y mejorar 
                        la conciencia de seguridad organizacional mediante técnicas avanzadas de social engineering 
                        y análisis de comportamiento humano.
                    </p>
                    
                    <div class="chapter-meta">
                        <div class="meta-item">
                            <div class="meta-value">240</div>
                            <div class="meta-label">Minutos</div>
                        </div>
                        <div class="meta-item">
                            <div class="meta-value">12</div>
                            <div class="meta-label">Fases</div>
                        </div>
                        <div class="meta-item">
                            <div class="meta-value">3</div>
                            <div class="meta-label">Herramientas</div>
                        </div>
                        <div class="meta-item">
                            <div class="meta-value">92%</div>
                            <div class="meta-label">Tasa de Éxito</div>
                        </div>
                    </div>
                </header>

                <!-- Project Overview -->
                <section class="content-section">
                    <h2 class="section-title">📋 Descripción del Proyecto</h2>
                    <div class="section-content">
                        <p>
                            Este proyecto integra conocimientos de ingeniería social, técnicas de phishing, 
                            análisis psicológico y medición de métricas de seguridad para crear una campaña 
                            completa de awareness testing.
                        </p>
                        
                        <h3>Objetivos Específicos</h3>
                        <ul>
                            <li>Diseñar y ejecutar campañas de phishing simulation realistas y éticas</li>
                            <li>Implementar herramientas de tracking y análisis de comportamiento</li>
                            <li>Desarrollar métricas cuantificables de awareness y susceptibilidad</li>
                            <li>Crear programas de remediación y training personalizado</li>
                            <li>Establecer baselines de seguridad organizacional medibles</li>
                        </ul>

                        <h3>Prerrequisitos Técnicos</h3>
                        <ul>
                            <li>Conocimientos sólidos de social engineering y psicología cognitiva</li>
                            <li>Experiencia con herramientas de phishing simulation (GoPhish, SET)</li>
                            <li>Comprensión de marcos legales y éticos para security testing</li>
                            <li>Habilidades en análisis estadístico y reporting ejecutivo</li>
                            <li>Familiaridad con SMTP, DNS, y web server configuration</li>
                        </ul>

                        <h3>Entregables del Proyecto</h3>
                        <ul>
                            <li>Plataforma de phishing simulation configurada y operacional</li>
                            <li>Set de templates de phishing personalizados por industria</li>
                            <li>Dashboard de métricas en tiempo real con visualizaciones</li>
                            <li>Reporte ejecutivo con recomendaciones estratégicas</li>
                            <li>Programa de training personalizado basado en resultados</li>
                            <li>Documentación técnica completa para reproducibilidad</li>
                        </ul>
                    </div>
                </section>

                <!-- Project Phases Tracker -->
                <div class="project-tracker">
                    <div class="tracker-header">
                        <h3>Fases del Proyecto</h3>
                        <div class="status-indicator status-info">
                            <span>●</span> En Progreso
                        </div>
                    </div>
                    <div class="project-phases">
                        <div class="phase-item active">
                            <div class="phase-status active">1</div>
                            <div class="phase-content">
                                <div class="phase-title">Reconnaissance y Scoping</div>
                                <div class="phase-description">Análisis del target organization, identificación de vectores de ataque</div>
                            </div>
                        </div>
                        <div class="phase-item pending">
                            <div class="phase-status pending">2</div>
                            <div class="phase-content">
                                <div class="phase-title">Infrastructure Setup</div>
                                <div class="phase-description">Configuración de servidores, dominios, y herramientas de phishing</div>
                            </div>
                        </div>
                        <div class="phase-item pending">
                            <div class="phase-status pending">3</div>
                            <div class="phase-content">
                                <div class="phase-title">Template Development</div>
                                <div class="phase-description">Creación de emails y landing pages convincentes</div>
                            </div>
                        </div>
                        <div class="phase-item pending">
                            <div class="phase-status pending">4</div>
                            <div class="phase-content">
                                <div class="phase-title">Campaign Execution</div>
                                <div class="phase-description">Lanzamiento de campañas con tracking detallado</div>
                            </div>
                        </div>
                        <div class="phase-item pending">
                            <div class="phase-status pending">5</div>
                            <div class="phase-content">
                                <div class="phase-title">Analysis & Reporting</div>
                                <div class="phase-description">Análisis de resultados y generación de reportes</div>
                            </div>
                        </div>
                        <div class="phase-item pending">
                            <div class="phase-status pending">6</div>
                            <div class="phase-content">
                                <div class="phase-title">Training Program</div>
                                <div class="phase-description">Desarrollo de training personalizado post-assessment</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Lab Environment -->
                <section class="lab-environment">
                    <h2 class="lab-title">🧪 Ambiente de Laboratorio</h2>
                    <p class="lab-description">
                        Entorno controlado para implementar y ejecutar campañas de phishing simulation 
                        con herramientas profesionales y métricas avanzadas.
                    </p>
                    
                    <div class="lab-interface">
                        <div style="display: flex; justify-content: between; align-items: center; margin-bottom: 1rem; flex-wrap: wrap; gap: 1rem;">
                            <div>🎯 Phishing Simulation Control Center</div>
                            <div>Status: <span id="labStatus">READY</span></div>
                        </div>
                        
                        <div class="terminal" id="terminalOutput">root@phishing-lab:~# Phishing Simulation Platform v3.2 initiated
[INFO] Loading GoPhish framework...
[INFO] Configuring SMTP relay servers...
[INFO] Initializing tracking databases...
[INFO] Setting up SSL certificates...

=== PHISHING LAB ENVIRONMENT ===
Available Tools:
• GoPhish - Advanced phishing framework
• Social Engineer Toolkit (SET) - Payload generation
• Evilginx2 - Modern phishing with 2FA bypass
• King Phisher - Comprehensive campaign management
• Lucy Security - Enterprise simulation platform

Current Configuration:
• Target Organization: Demo Corp (250 employees)
• Campaign Duration: 30 days
• Email Templates: 12 industry-specific variants
• Landing Pages: 8 credential harvesting pages
• Tracking: Real-time analytics enabled

Available Commands:
> setup-campaign [name] - Initialize new campaign
> generate-templates - Create phishing email templates  
> deploy-infrastructure - Launch phishing servers
> start-campaign - Begin email distribution
> monitor-results - View real-time metrics
> generate-report - Create executive summary

Ready for input...</div>
                        
                        <div style="margin: 1rem 0; padding: 1rem; background: rgba(255,255,255,0.05); border-radius: 6px;">
                            <h4>Configuración de Campaña:</h4>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin: 1rem 0;">
                                <div>
                                    <label style="display: block; margin-bottom: 0.5rem;">Tipo de Campaña:</label>
                                    <select id="campaignType" style="width: 100%; padding: 0.5rem; border-radius: 4px; border: 1px solid #333; background: #222; color: white;">
                                        <option>Credential Harvesting</option>
                                        <option>Attachment-based</option>
                                        <option>URL Redirection</option>
                                        <option>Business Email Compromise</option>
                                    </select>
                                </div>
                                <div>
                                    <label style="display: block; margin-bottom: 0.5rem;">Sector Target:</label>
                                    <select id="targetSector" style="width: 100%; padding: 0.5rem; border-radius: 4px; border: 1px solid #333; background: #222; color: white;">
                                        <option>Financial Services</option>
                                        <option>Healthcare</option>
                                        <option>Technology</option>
                                        <option>Manufacturing</option>
                                        <option>Government</option>
                                    </select>
                                </div>
                                <div>
                                    <label style="display: block; margin-bottom: 0.5rem;">Dificultad:</label>
                                    <select id="difficulty" style="width: 100%; padding: 0.5rem; border-radius: 4px; border: 1px solid #333; background: #222; color: white;">
                                        <option>Básica</option>
                                        <option>Intermedia</option>
                                        <option>Avanzada</option>
                                        <option>Expert</option>
                                    </select>
                                </div>
                                <div>
                                    <label style="display: block; margin-bottom: 0.5rem;">Usuarios Target:</label>
                                    <input type="number" id="targetUsers" value="50" min="1" max="1000" style="width: 100%; padding: 0.5rem; border-radius: 4px; border: 1px solid #333; background: #222; color: white;">
                                </div>
                            </div>
                        </div>
                        
                        <div class="controls">
                            <button class="btn btn-primary" onclick="setupCampaign()">Configurar Campaña</button>
                            <button class="btn btn-secondary" onclick="generateTemplates()">Generar Templates</button>
                            <button class="btn btn-secondary" onclick="deployInfrastructure()">Deploy Infrastructure</button>
                            <button class="btn btn-warning" onclick="startCampaign()">Iniciar Campaña</button>
                            <button class="btn btn-secondary" onclick="monitorResults()">Monitor Resultados</button>
                            <button class="btn btn-danger" onclick="emergencyStop()">Emergency Stop</button>
                        </div>
                    </div>
                </section>

                <!-- Simulation Scenarios -->
                <section class="content-section">
                    <h2 class="section-title">🎭 Escenarios de Simulación</h2>
                    <div class="section-content">
                        <p>
                            Diferentes tipos de ataques de phishing que puedes implementar y practicar 
                            en el ambiente controlado del laboratorio.
                        </p>

                        <div class="simulation-grid">
                            <div class="simulation-card">
                                <div class="simulation-header">
                                    <div class="simulation-icon phishing-icon">📧</div>
                                    <div>
                                        <div class="simulation-title">Credential Harvesting</div>
                                        <span class="simulation-difficulty difficulty-intermediate">Intermedio</span>
                                    </div>
                                </div>
                                <div class="simulation-description">
                                    Simulación de ataques que buscan obtener credenciales de usuarios mediante 
                                    páginas de login falsas que imitan servicios legítimos como Office 365 o Gmail.
                                </div>
                                <div class="simulation-stats">
                                    <div class="stat-item">
                                        <div class="stat-value">15-25%</div>
                                        <div class="stat-label">Click Rate</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-value">8-12%</div>
                                        <div class="stat-label">Submit Rate</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-value">2-4 hrs</div>
                                        <div class="stat-label">Setup Time</div>
                                    </div>
                                </div>
                            </div>

                            <div class="simulation-card">
                                <div class="simulation-header">
                                    <div class="simulation-icon pentest-icon">📎</div>
                                    <div>
                                        <div class="simulation-title">Malicious Attachments</div>
                                        <span class="simulation-difficulty difficulty-advanced">Avanzado</span>
                                    </div>
                                </div>
                                <div class="simulation-description">
                                    Envío de documentos con macros maliciosas o ejecutables disfrazados que simulan 
                                    malware real para testear la respuesta ante amenazas file-based.
                                </div>
                                <div class="simulation-stats">
                                    <div class="stat-item">
                                        <div class="stat-value">10-18%</div>
                                        <div class="stat-label">Open Rate</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-value">3-7%</div>
                                        <div class="stat-label">Execute Rate</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-value">3-5 hrs</div>
                                        <div class="stat-label">Setup Time</div>
                                    </div>
                                </div>
                            </div>

                            <div class="simulation-card">
                                <div class="simulation-header">
                                    <div class="simulation-icon zerotrust-icon">🔗</div>
                                    <div>
                                        <div class="simulation-title">URL Redirection</div>
                                        <span class="simulation-difficulty difficulty-beginner">Básico</span>
                                    </div>
                                </div>
                                <div class="simulation-description">
                                    Links maliciosos que redirigen a páginas controladas para awareness testing 
                                    sobre clicking behavior y verificación de URLs.
                                </div>
                                <div class="simulation-stats">
                                    <div class="stat-item">
                                        <div class="stat-value">25-35%</div>
                                        <div class="stat-label">Click Rate</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-value">N/A</div>
                                        <div class="stat-label">Convert Rate</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-value">1-2 hrs</div>
                                        <div class="stat-label">Setup Time</div>
                                    </div>
                                </div>
                            </div>

                            <div class="simulation-card">
                                <div class="simulation-header">
                                    <div class="simulation-icon incident-icon">💼</div>
                                    <div>
                                        <div class="simulation-title">Business Email Compromise</div>
                                        <span class="simulation-difficulty difficulty-expert">Experto</span>
                                    </div>
                                </div>
                                <div class="simulation-description">
                                    Simulación de BEC attacks con impersonation de executives para testear 
                                    protocolos de verification en transacciones financieras.
                                </div>
                                <div class="simulation-stats">
                                    <div class="stat-item">
                                        <div class="stat-value">5-12%</div>
                                        <div class="stat-label">Response Rate</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-value">2-5%</div>
                                        <div class="stat-label">Action Rate</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-value">4-6 hrs</div>
                                        <div class="stat-label">Setup Time</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Assessment Matrix -->
                <div class="assessment-matrix">
                    <h3>Matriz de Evaluación de Conocimientos</h3>
                    <div class="matrix-grid">
                        <div class="assessment-item" onclick="toggleAssessment(this, 'social-engineering')">
                            <div class="assessment-header">
                                <div class="assessment-title">Social Engineering Principles</div>
                                <div class="assessment-score">0/100</div>
                            </div>
                            <div class="assessment-description">
                                Comprensión de técnicas de manipulación psicológica y persuasión
                            </div>
                        </div>
                        <div class="assessment-item" onclick="toggleAssessment(this, 'phishing-techniques')">
                            <div class="assessment-header">
                                <div class="assessment-title">Phishing Techniques</div>
                                <div class="assessment-score">0/100</div>
                            </div>
                            <div class="assessment-description">
                                Conocimiento de vectores de ataque y metodologías de phishing
                            </div>
                        </div>
                        <div class="assessment-item" onclick="toggleAssessment(this, 'email-security')">
                            <div class="assessment-header">
                                <div class="assessment-title">Email Security Protocols</div>
                                <div class="assessment-score">0/100</div>
                            </div>
                            <div class="assessment-description">
                                SPF, DKIM, DMARC y other email authentication mechanisms
                            </div>
                        </div>
                        <div class="assessment-item" onclick="toggleAssessment(this, 'campaign-management')">
                            <div class="assessment-header">
                                <div class="assessment-title">Campaign Management</div>
                                <div class="assessment-score">0/100</div>
                            </div>
                            <div class="assessment-description">
                                Planificación, ejecución y análisis de campañas de awareness
                            </div>
                        </div>
                        <div class="assessment-item" onclick="toggleAssessment(this, 'metrics-analysis')">
                            <div class="assessment-header">
                                <div class="assessment-title">Metrics & Analysis</div>
                                <div class="assessment-score">0/100</div>
                            </div>
                            <div class="assessment-description">
                                Análisis estadístico y reporting de resultados de seguridad
                            </div>
                        </div>
                        <div class="assessment-item" onclick="toggleAssessment(this, 'ethical-framework')">
                            <div class="assessment-header">
                                <div class="assessment-title">Ethical Framework</div>
                                <div class="assessment-score">0/100</div>
                            </div>
                            <div class="assessment-description">
                                Consideraciones éticas y legales en security testing
                            </div>
                        </div>
                    </div>
                </div>

                <section class="content-section">
                    <h2 class="section-title">🛠️ Herramientas y Tecnologías</h2>
                    <div class="section-content">
                        <p>
                            Stack tecnológico completo para implementar simulaciones de phishing 
                            a nivel enterprise con capacidades de análisis avanzado.
                        </p>
                        
                        <h3>Plataformas de Phishing Simulation</h3>
                        <ul>
                            <li><strong>GoPhish:</strong> Framework open-source completo con API REST, templates customizables, y analytics detallados</li>
                            <li><strong>King Phisher:</strong> Tool profesional con capabilities avanzadas de campaign management y reporting</li>
                            <li><strong>Lucy Security:</strong> Plataforma enterprise con machine learning para personalization</li>
                            <li><strong>Evilginx2:</strong> Modern phishing framework con 2FA bypass capabilities</li>
                            <li><strong>Social Engineer Toolkit (SET):</strong> Comprehensive toolkit para social engineering attacks</li>
                        </ul>
                        
                        <h3>Infrastructure y Deployment</h3>
                        <ul>
                            <li><strong>AWS/Azure/GCP:</strong> Cloud infrastructure para escalabilidad y reliability</li>
                            <li><strong>Docker/Kubernetes:</strong> Containerization para deployment reproducible</li>
                            <li><strong>Nginx/Apache:</strong> Web servers con SSL/TLS configuration</li>
                            <li><strong>Postfix/Sendmail:</strong> SMTP servers para email delivery</li>
                            <li><strong>Let's Encrypt:</strong> SSL certificates para legitimacy</li>
                        </ul>
                        
                        <h3>Analytics y Reporting</h3>
                        <ul>
                            <li><strong>Elasticsearch/Kibana:</strong> Log analysis y visualization</li>
                            <li><strong>Grafana/Prometheus:</strong> Real-time monitoring y alerting</li>
                            <li><strong>Python/R:</strong> Statistical analysis y custom metrics</li>
                            <li><strong>Tableau/Power BI:</strong> Executive dashboards y business intelligence</li>
                        </ul>
                        
                        <h3>Security y Compliance</h3>
                        <ul>
                            <li><strong>OWASP Guidelines:</strong> Best practices para ethical hacking</li>
                            <li><strong>NIST Framework:</strong> Risk management y security controls</li>
                            <li><strong>ISO 27001:</strong> Information security management standards</li>
                            <li><strong>Legal Frameworks:</strong> Compliance con regulations locales</li>
                        </ul>
                    </div>
                </section>

                <section class="content-section">
                    <h2 class="section-title">📊 Métricas y KPIs de Efectividad</h2>
                    <div class="section-content">
                        <p>
                            Establecimiento de métricas cuantificables para medir la efectividad 
                            de las campañas de phishing simulation y el nivel de awareness organizacional.
                        </p>
                        
                        <h3>Métricas Primarias</h3>
                        <ul>
                            <li><strong>Click-Through Rate (CTR):</strong> Porcentaje de usuarios que hacen click en links maliciosos</li>
                            <li><strong>Credential Submission Rate:</strong> Usuarios que introducen credenciales en páginas falsas</li>
                            <li><strong>Attachment Execution Rate:</strong> Porcentaje que abre attachments maliciosos</li>
                            <li><strong>Reporting Rate:</strong> Usuarios que reportan emails sospechosos a IT/Security</li>
                            <li><strong>Time to Click:</strong> Tiempo promedio entre recepción y click</li>
                            <li><strong>Repeat Offender Rate:</strong> Usuarios que fallan múltiples tests</li>
                        </ul>
                        
                        <h3>Métricas Secundarias</h3>
                        <ul>
                            <li><strong>Department Vulnerability Index:</strong> Susceptibilidad por departamento/role</li>
                            <li><strong>Campaign Sophistication Score:</strong> Correlation entre dificultad y success rate</li>
                            <li><strong>Training Effectiveness Rate:</strong> Mejora post-training en subsequent tests</li>
                            <li><strong>Incident Response Time:</strong> Tiempo de respuesta del security team</li>
                            <li><strong>False Positive Rate:</strong> Legitimate emails incorrectamente reportados</li>
                        </ul>
                        
                        <h3>Benchmarking Industry</h3>
                        <ul>
                            <li><strong>Financial Services:</strong> CTR promedio 4-8%, Submission rate 2-4%</li>
                            <li><strong>Healthcare:</strong> CTR promedio 8-15%, Submission rate 4-8%</li>
                            <li><strong>Technology:</strong> CTR promedio 6-12%, Submission rate 3-6%</li>
                            <li><strong>Government:</strong> CTR promedio 10-18%, Submission rate 5-9%</li>
                            <li><strong>Education:</strong> CTR promedio 15-25%, Submission rate 8-15%</li>
                        </ul>
                        
                        <h3>Risk Scoring Framework</h3>
                        <ul>
                            <li><strong>Low Risk:</strong> CTR < 5%, Strong reporting culture, Regular training</li>
                            <li><strong>Medium Risk:</strong> CTR 5-15%, Moderate awareness, Inconsistent training</li>
                            <li><strong>High Risk:</strong> CTR 15-30%, Poor reporting, Minimal training</li>
                            <li><strong>Critical Risk:</strong> CTR > 30%, No security culture, No training program</li>
                        </ul>
                    </div>
                </section>

                <section class="content-section">
                    <h2 class="section-title">⚖️ Consideraciones Éticas y Legales</h2>
                    <div class="section-content">
                        <p>
                            Framework completo para asegurar que las simulaciones de phishing se realicen 
                            de manera ética, legal y constructiva para la organización.
                        </p>
                        
                        <h3>Principios Éticos Fundamentales</h3>
                        <ul>
                            <li><strong>Consentimiento Informado:</strong> Authorization clara de management antes de testing</li>
                            <li><strong>Proporcionalidad:</strong> Nivel de sophistication apropiado para el contexto</li>
                            <li><strong>Confidencialidad:</strong> Protección de datos personales durante testing</li>
                            <li><strong>No Maleficencia:</strong> Evitar daño psicológico o professional a empleados</li>
                            <li><strong>Constructividad:</strong> Focus en education y improvement, no punishment</li>
                        </ul>
                        
                        <h3>Requerimientos Legales</h3>
                        <ul>
                            <li><strong>Authorization Letter:</strong> Documento formal autorizando penetration testing</li>
                            <li><strong>Scope Definition:</strong> Límites claros de what can/cannot be tested</li>
                            <li><strong>Data Protection Compliance:</strong> GDPR, HIPAA, other relevant regulations</li>
                            <li><strong>Employee Privacy Rights:</strong> Respeto por privacy laws locales</li>
                            <li><strong>Incident Response Plan:</strong> Procedures para handling de findings críticos</li>
                        </ul>
                        
                        <h3>Best Practices Organizacionales</h3>
                        <ul>
                            <li><strong>Executive Buy-in:</strong> Support visible de leadership para program legitimacy</li>
                            <li><strong>HR Coordination:</strong> Alignment con HR policies sobre employee testing</li>
                            <li><strong>Anonymous Reporting:</strong> Results individuales mantenidos confidenciales</li>
                            <li><strong>Positive Framing:</strong> Emphasis en learning opportunity, not punishment</li>
                            <li><strong>Progressive Difficulty:</strong> Start con basic tests, increase sophistication gradualmente</li>
                            <li><strong>Follow-up Training:</strong> Immediate education para failed test participants</li>
                        </ul>
                        
                        <h3>Documentation Requirements</h3>
                        <ul>
                            <li><strong>Rules of Engagement:</strong> Detailed scope y limitations document</li>
                            <li><strong>Methodology Documentation:</strong> Technical procedures y tools used</li>
                            <li><strong>Data Handling Procedures:</strong> How personal data is collected, stored, disposed</li>
                            <li><strong>Incident Response Procedures:</strong> Steps para handling critical vulnerabilities</li>
                            <li><strong>Audit Trail:</strong> Complete log de all testing activities</li>
                        </ul>
                    </div>
                </section>

                <section class="content-section">
                    <h2 class="section-title">🎓 Programa de Remediation y Training</h2>
                    <div class="section-content">
                        <p>
                            Desarrollo de programas de training personalizados basados en los resultados 
                            de las simulaciones para mejorar la postura de seguridad organizacional.
                        </p>
                        
                        <h3>Segmentación de Usuarios</h3>
                        <ul>
                            <li><strong>Green Users:</strong> Passed all tests, minimal training needed, potential champions</li>
                            <li><strong>Yellow Users:</strong> Failed some tests, targeted training on specific vulnerabilities</li>
                            <li><strong>Red Users:</strong> High-risk individuals, intensive training y monitoring</li>
                            <li><strong>Champions:</strong> Security-aware individuals que pueden help others</li>
                        </ul>
                        
                        <h3>Training Modules Personalizados</h3>
                        <ul>
                            <li><strong>Email Security Fundamentals:</strong> How to identify suspicious emails</li>
                            <li><strong>URL Analysis Techniques:</strong> Recognizing malicious links y domains</li>
                            <li><strong>Attachment Security:</strong> Safe handling de files y downloads</li>
                            <li><strong>Social Engineering Awareness:</strong> Psychological manipulation techniques</li>
                            <li><strong>Incident Reporting Procedures:</strong> When y how to report security concerns</li>
                            <li><strong>Password Security:</strong> Strong passwords y MFA adoption</li>
                        </ul>
                        
                        <h3>Training Delivery Methods</h3>
                        <ul>
                            <li><strong>Microlearning:</strong> Short 5-10 minute modules delivered regularly</li>
                            <li><strong>Gamification:</strong> Points, badges, y leaderboards para engagement</li>
                            <li><strong>Simulation-based Learning:</strong> Hands-on practice con safe examples</li>
                            <li><strong>Peer Learning:</strong> Champions helping colleagues identify threats</li>
                            <li><strong>Just-in-Time Training:</strong> Immediate education when tests failed</li>
                        </ul>
                        
                        <h3>Measuring Training Effectiveness</h3>
                        <ul>
                            <li><strong>Pre/Post Assessment Scores:</strong> Quantifiable improvement metrics</li>
                            <li><strong>Behavioral Change Tracking:</strong> Improved performance en subsequent tests</li>
                            <li><strong>Retention Testing:</strong> Knowledge retention over time periods</li>
                            <li><strong>Real-world Application:</strong> Actual security incident reporting rates</li>
                        </ul>
                    </div>
                </section>

                <!-- Certificate Section -->
                <section class="certificate-section">
                    <div class="certificate-icon">🏆</div>
                    <h2 class="certificate-title">Certificación de Especialista en Phishing Simulation</h2>
                    <p class="certificate-description">
                        Demuestra tu dominio en la implementación de campañas de phishing simulation 
                        éticas y efectivas para mejorar la postura de seguridad organizacional.
                    </p>
                    
                    <div class="certificate-requirements">
                        <h3>Requisitos para Certificación:</h3>
                        <ul>
                            <li>✅ Completar todas las fases del proyecto con 90%+ de calidad</li>
                            <li>✅ Implementar al menos 3 tipos diferentes de simulaciones</li>
                            <li>✅ Generar reportes ejecutivos con recomendaciones accionables</li>
                            <li>✅ Desarrollar programa de training personalizado efectivo</li>
                            <li>✅ Demostrar conocimiento de frameworks éticos y legales</li>
                            <li>✅ Pasar examen técnico con 85%+ de aciertos</li>
                        </ul>
                    </div>
                    
                    <div class="controls">
                        <button class="btn btn-primary" onclick="startCertification()">Iniciar Proceso de Certificación</button>
                    </div>
                </section>

                <section class="content-section">
                    <h2 class="section-title">📚 Recursos Adicionales y Referencias</h2>
                    <div class="section-content">
                        <h3>Documentación Técnica</h3>
                        <ul>
                            <li><strong>GoPhish Documentation:</strong> Complete API reference y user guides</li>
                            <li><strong>OWASP Testing Guide:</strong> Social engineering testing methodologies</li>
                            <li><strong>NIST Cybersecurity Framework:</strong> Risk management best practices</li>
                            <li><strong>SANS Phishing Research:</strong> Industry trends y threat intelligence</li>
                        </ul>
                        
                        <h3>Herramientas de Análisis</h3>
                        <ul>
                            <li><strong>MX Toolbox:</strong> Email security testing y DNS analysis</li>
                            <li><strong>VirusTotal:</strong> URL y file reputation checking</li>
                            <li><strong>URLVoid:</strong> Suspicious website detection</li>
                            <li><strong>Shodan:</strong> Internet-connected device discovery</li>
                        </ul>
                        
                        <h3>Frameworks de Referencia</h3>
                        <ul>
                            <li><strong>MITRE ATT&CK:</strong> Tactics, techniques, y procedures mapping</li>
                            <li><strong>Kill Chain Model:</strong> Attack progression analysis</li>
                            <li><strong>Diamond Model:</strong> Threat actor characterization</li>
                            <li><strong>STIX/TAXII:</strong> Threat intelligence sharing standards</li>
                        </ul>
                        
                        <h3>Comunidades y Forums</h3>
                        <ul>
                            <li><strong>SANS Community:</strong> Security awareness best practices</li>
                            <li><strong>Reddit r/cybersecurity:</strong> Current threats y discussions</li>
                            <li><strong>InfoSec Twitter:</strong> Real-time threat intelligence</li>
                            <li><strong>Local ISACA/ISC2 Chapters:</strong> Professional networking</li>
                        </ul>
                    </div>
                </section>

                <!-- Navigation -->
                <div class="content-navigation">
                    <a href="#" class="nav-btn nav-btn-secondary" onclick="goBack()">
                        ← Volver a Módulos
                    </a>
                    <a href="#" class="nav-btn nav-btn-primary" onclick="nextProject()">
                        Proyecto 2: Penetration Testing Lab →
                    </a>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Progress tracking
        let moduleProgress = 0;
        let currentProject = 1;
        let projectsCompleted = 0;
        let campaignActive = false;
        let assessmentScores = {
            'social-engineering': 0,
            'phishing-techniques': 0,
            'email-security': 0,
            'campaign-management': 0,
            'metrics-analysis': 0,
            'ethical-framework': 0
        };

        // Project data
        const projects = [
            {
                id: 1,
                title: "Lab de Phishing Simulation",
                description: "Implementación y ejecución de campañas de phishing simulation",
                duration: 240,
                difficulty: "Intermedio"
            },
            {
                id: 2,
                title: "Penetration Testing Lab",
                description: "Ethical hacking y vulnerability assessment completo",
                duration: 320,
                difficulty: "Avanzado"
            },
            {
                id: 3,
                title: "Incident Response Simulation",
                description: "Manejo de incidentes de seguridad en tiempo real",
                duration: 180,
                difficulty: "Intermedio"
            }
            // Add more projects as needed
        ];

        // Initialize page
        function initializePage() {
            updateProgress();
            updateLabStatus();
            console.log('Módulo 5: Aplicación Práctica cargado');
        }

        function updateProgress() {
            const progressBar = document.getElementById('moduleProgress');
            if (progressBar) {
                progressBar.style.width = moduleProgress + '%';
            }
            
            // Update progress text
            const progressText = document.querySelector('.progress-text');
            if (progressText) {
                progressText.textContent = `${projectsCompleted} de 15 proyectos completados (${Math.round(moduleProgress)}%)`;
            }
        }

        function updateLabStatus() {
            const statusElement = document.getElementById('labStatus');
            if (statusElement) {
                statusElement.textContent = campaignActive ? 'CAMPAIGN ACTIVE' : 'READY';
                statusElement.style.color = campaignActive ? '#f59e0b' : '#10b981';
            }
        }

        function goBack() {
            if (campaignActive) {
                if (confirm('Hay una campaña activa. ¿Estás seguro de que quieres salir? Se pausará automáticamente.')) {
                    emergencyStop();
                    window.location.href = "index.html";
                }
            } else {
                if (confirm('¿Estás seguro de que quieres volver? Tu progreso se guardará automáticamente.')) {
                    window.location.href = "index.html";
                }
            }
        }

        function loadProject(projectNum) {
            alert(`Cargando Proyecto ${projectNum}...\n\nEn una implementación real, esto cargaría el contenido específico del proyecto.`);
            
            // Update active project
            document.querySelectorAll('.chapter-link').forEach(link => {
                link.classList.remove('active');
            });
            if (event && event.target) {
                event.target.closest('.chapter-link').classList.add('active');
            }
            
            currentProject = projectNum;
        }

        function nextProject() {
            if (validateProjectCompletion()) {
                alert('Excelente trabajo! Procediendo al Proyecto 2: Penetration Testing Lab\n\nEn una implementación real, esto cargaría el siguiente proyecto.');
                moduleProgress = Math.min(moduleProgress + 6.67, 100); // 100/15 projects
                projectsCompleted++;
                updateProgress();
            } else {
                alert('Completa todas las fases del proyecto actual y obtén al menos 85% en assessments para continuar.');
            }
        }

        function validateProjectCompletion() {
            // Check if main phases are completed
            const completedPhases = document.querySelectorAll('.phase-item.completed').length;
            const totalPhases = document.querySelectorAll('.phase-item').length;
            
            // Check assessment scores
            const avgScore = Object.values(assessmentScores).reduce((a, b) => a + b, 0) / Object.values(assessmentScores).length;
            
            return completedPhases >= totalPhases * 0.8 && avgScore >= 85;
        }

        // Lab Environment Functions
        function setupCampaign() {
            const terminal = document.getElementById('terminalOutput');
            const campaignType = document.getElementById('campaignType').value;
            const targetSector = document.getElementById('targetSector').value;
            const difficulty = document.getElementById('difficulty').value;
            const targetUsers = document.getElementById('targetUsers').value;
            
            terminal.innerHTML += `
> setup-campaign phishing-sim-2024
[INFO] Initializing campaign configuration...
[INFO] Campaign Type: ${campaignType}
[INFO] Target Sector: ${targetSector}
[INFO] Difficulty Level: ${difficulty}
[INFO] Target Users: ${targetUsers}

=== CAMPAIGN SETUP ===
• Creating campaign database...
• Generating user target list...
• Configuring email templates...
• Setting up tracking infrastructure...
• Initializing analytics dashboard...

[SUCCESS] Campaign 'phishing-sim-2024' configured successfully
[INFO] Campaign ID: PS-2024-${Math.random().toString(36).substr(2, 9).toUpperCase()}
[INFO] Estimated setup time: 15-30 minutes
[INFO] Ready for template generation

Next step: Use 'generate-templates' to create phishing emails`;
            
            terminal.scrollTop = terminal.scrollHeight;
            
            // Mark phase as completed
            const firstPhase = document.querySelector('.phase-item');
            if (firstPhase && !firstPhase.classList.contains('completed')) {
                firstPhase.classList.add('completed');
                firstPhase.classList.remove('active');
                firstPhase.querySelector('.phase-status').classList.add('completed');
                firstPhase.querySelector('.phase-status').classList.remove('active');
                firstPhase.querySelector('.phase-status').textContent = '✓';
                
                // Activate next phase
                const secondPhase = firstPhase.nextElementSibling;
                if (secondPhase) {
                    secondPhase.classList.add('active');
                    secondPhase.querySelector('.phase-status').classList.add('active');
                }
            }
        }

        function generateTemplates() {
            const terminal = document.getElementById('terminalOutput');
            const campaignType = document.getElementById('campaignType').value;
            const sector = document.getElementById('targetSector').value;
            const difficulty = document.getElementById('difficulty').value;
            
            terminal.innerHTML += `
> generate-templates
[INFO] Generating phishing templates for ${sector} sector...
[INFO] Campaign type: ${campaignType}
[INFO] Difficulty level: ${difficulty}
[INFO] Using AI-powered content generation...

=== TEMPLATE GENERATION ===
Email Templates Created:
• Office 365 Login Portal (Credential Harvesting)
• IT Security Alert (Urgent Action Required)  
• HR Benefits Update (Social Engineering)
• Finance Invoice Processing (Business Email Compromise)
• Software Update Notification (Malware Delivery)

Landing Pages Created:
• Fake Office 365 login page (${campaignType})
• Fake company intranet portal
• Fake software download page
• Credential harvesting forms

Difficulty Adjustments for "${difficulty}":
${getDifficultyAdjustments(difficulty)}

[SUCCESS] 5 email templates generated
[SUCCESS] 4 landing pages created  
[INFO] All templates customized for ${sector} sector
[INFO] A/B testing variants created for optimization

Templates ready for review and customization`;
            
            terminal.scrollTop = terminal.scrollHeight;
            
            // Update phase progress
            updatePhaseProgress(2);
        }

        function getDifficultyAdjustments(difficulty) {
            switch(difficulty) {
                case 'Básica':
                    return '• Simple social engineering tactics\n• Generic company branding\n• Basic urgency language';
                case 'Intermedia':
                    return '• Targeted social engineering\n• Company-specific branding\n• Moderate technical sophistication';
                case 'Avanzada':
                    return '• Advanced psychological manipulation\n• Perfect brand replication\n• Technical evasion techniques';
                case 'Expert':
                    return '• State-actor level sophistication\n• Zero-day exploitation techniques\n• Advanced persistent threat simulation';
                default:
                    return '• Standard configuration applied';
            }
        }

        function deployInfrastructure() {
            const terminal = document.getElementById('terminalOutput');
            
            terminal.innerHTML += `
> deploy-infrastructure
[INFO] Deploying phishing infrastructure...
[INFO] Provisioning cloud resources...

=== INFRASTRUCTURE DEPLOYMENT ===
Domain Configuration:
• Primary domain: secure-updates-portal.com
• SMTP relay: mail.secure-updates-portal.com
• Landing pages: login.secure-updates-portal.com

SSL Certificate Setup:
• Let's Encrypt certificates installed
• HTTPS redirection configured
• Security headers implemented

Email Infrastructure:
• SMTP server configured on port 587
• SPF record: v=spf1 include:_spf.google.com ~all
• DKIM signing enabled
• DMARC policy: v=DMARC1; p=none

Web Server Configuration:
• Nginx reverse proxy configured
• Rate limiting implemented
• Access logging enabled
• Geographic IP filtering active

[SUCCESS] Infrastructure deployed successfully
[INFO] All services operational and ready
[INFO] Monitoring dashboard: https://monitor.internal/phishing
[WARNING] Remember to follow responsible disclosure practices`;
            
            terminal.scrollTop = terminal.scrollHeight;
            
            updatePhaseProgress(3);
        }

        function startCampaign() {
            if (!campaignActive) {
                const terminal = document.getElementById('terminalOutput');
                
                terminal.innerHTML += `
> start-campaign
[INFO] Initiating phishing simulation campaign...
[INFO] Final pre-flight checks...

=== CAMPAIGN LAUNCH ===
Pre-flight Checklist:
✓ Infrastructure operational
✓ Templates reviewed and approved
✓ Target list validated
✓ Tracking systems active
✓ Analytics dashboard ready
✓ Emergency stop procedures confirmed

[INFO] Beginning email distribution...
[INFO] Batch 1: Sending to 50 users...
[INFO] Expected delivery time: 15-30 minutes
[INFO] Real-time tracking active

Campaign Status: ACTIVE
Start Time: ${new Date().toLocaleTimeString()}
Expected Duration: 24-48 hours
Monitoring: Real-time dashboard available

[WARNING] Campaign is now live - monitor closely for results`;
                
                terminal.scrollTop = terminal.scrollHeight;
                campaignActive = true;
                updateLabStatus();
                updatePhaseProgress(4);
                
                // Simulate results coming in
                setTimeout(() => {
                    simulateResults();
                }, 5000);
            } else {
                alert('Ya hay una campaña activa. Usa Emergency Stop para terminarla antes de iniciar una nueva.');
            }
        }

        function simulateResults() {
            const terminal = document.getElementById('terminalOutput');
            
            terminal.innerHTML += `

=== REAL-TIME RESULTS ===
[${new Date().toLocaleTimeString()}] First click detected
[${new Date().toLocaleTimeString()}] 3 users clicked malicious link
[${new Date().toLocaleTimeString()}] 1 credential submission detected
[${new Date().toLocaleTimeString()}] 2 users reported email as suspicious

Current Metrics:
• Emails sent: 50/50 (100%)
• Delivered: 47/50 (94%)
• Opened: 23/47 (49%)
• Clicked: 8/47 (17%)
• Submitted credentials: 3/47 (6%)
• Reported suspicious: 5/47 (11%)

Department Breakdown:
• Finance: 25% click rate
• HR: 15% click rate  
• IT: 5% click rate
• Sales: 30% click rate

Real-time monitoring continues...`;
            
            terminal.scrollTop = terminal.scrollHeight;
        }

        function monitorResults() {
            const terminal = document.getElementById('terminalOutput');
            
            if (campaignActive) {
                terminal.innerHTML += `
> monitor-results
[INFO] Generating real-time analytics dashboard...

=== CAMPAIGN ANALYTICS ===
Campaign: phishing-sim-2024
Status: ACTIVE
Runtime: ${Math.floor(Math.random() * 120) + 60} minutes

Engagement Metrics:
• Total Recipients: 50
• Delivery Rate: 94% (47/50)
• Open Rate: 52% (24/47)  
• Click Rate: 19% (9/47)
• Submission Rate: 8% (4/47)
• Report Rate: 13% (6/47)

Risk Assessment:
• High Risk Users: 4 (submitted credentials)
• Medium Risk Users: 5 (clicked but didn't submit)
• Low Risk Users: 38 (no engagement or reported)

Top Performing Templates:
1. "IT Security Alert" - 35% click rate
2. "Office 365 Login" - 28% click rate  
3. "HR Benefits Update" - 15% click rate

Geographic Distribution:
• Headquarters: 22% click rate
• Remote Workers: 15% click rate
• Branch Offices: 18% click rate

Monitoring continues in real-time...`;
            } else {
                terminal.innerHTML += `
> monitor-results
[ERROR] No active campaign to monitor
[INFO] Use 'start-campaign' to begin a new simulation`;
            }
            
            terminal.scrollTop = terminal.scrollHeight;
        }

        function emergencyStop() {
            if (campaignActive) {
                const terminal = document.getElementById('terminalOutput');
                
                terminal.innerHTML += `
> emergency-stop
[WARNING] Initiating emergency campaign termination...
[INFO] Stopping email distribution...
[INFO] Disabling tracking links...
[INFO] Securing collected data...

=== EMERGENCY STOP EXECUTED ===
Campaign Status: TERMINATED
Stop Time: ${new Date().toLocaleTimeString()}
Final Statistics:
• Emails Sent: ${Math.floor(Math.random() * 50) + 30}
• Campaign Duration: ${Math.floor(Math.random() * 180) + 60} minutes
• Data Collected: Secured and encrypted

[SUCCESS] Campaign safely terminated
[INFO] All infrastructure remains available for future campaigns
[INFO] Data available for analysis and reporting`;
                
                terminal.scrollTop = terminal.scrollHeight;
                campaignActive = false;
                updateLabStatus();
            } else {
                alert('No hay campaña activa para detener.');
            }
        }

        function updatePhaseProgress(phaseNumber) {
            const phases = document.querySelectorAll('.phase-item');
            if (phases[phaseNumber - 1] && !phases[phaseNumber - 1].classList.contains('completed')) {
                // Complete current phase
                phases[phaseNumber - 1].classList.add('completed');
                phases[phaseNumber - 1].classList.remove('active');
                const statusEl = phases[phaseNumber - 1].querySelector('.phase-status');
                statusEl.classList.add('completed');
                statusEl.classList.remove('active');
                statusEl.textContent = '✓';
                
                // Activate next phase
                if (phases[phaseNumber]) {
                    phases[phaseNumber].classList.add('active');
                    phases[phaseNumber].querySelector('.phase-status').classList.add('active');
                }
            }
        }

        // Assessment data with actual questions
        const assessmentQuestions = {
            'social-engineering': {
                title: 'Social Engineering Principles',
                questions: [
                    {
                        q: '¿Cuál es el principio psicológico más explotado en ataques de social engineering?',
                        options: ['Reciprocidad', 'Autoridad', 'Escasez', 'Compromiso y consistencia'],
                        correct: 1,
                        explanation: 'La autoridad es el principio más explotado porque las personas tienden a obedecer figuras de autoridad sin cuestionar.'
                    },
                    {
                        q: '¿Qué técnica de social engineering utiliza información previa sobre la víctima?',
                        options: ['Pretexting', 'Baiting', 'Quid pro quo', 'Tailgating'],
                        correct: 0,
                        explanation: 'Pretexting implica crear un escenario fabricado usando información específica de la víctima.'
                    },
                    {
                        q: '¿Cuál es la mejor defensa contra ataques de social engineering?',
                        options: ['Antivirus actualizado', 'Firewall robusto', 'Educación y conciencia', 'Autenticación multifactor'],
                        correct: 2,
                        explanation: 'La educación es clave porque los ataques de social engineering explotan el factor humano.'
                    }
                ]
            },
            'phishing-techniques': {
                title: 'Phishing Techniques',
                questions: [
                    {
                        q: '¿Qué característica distingue al spear phishing del phishing tradicional?',
                        options: ['Uso de malware', 'Targeting específico', 'Explotación de vulnerabilidades', 'Cifrado de comunicaciones'],
                        correct: 1,
                        explanation: 'Spear phishing se caracteriza por targeting específico usando información particular de la víctima.'
                    },
                    {
                        q: '¿Cuál es el objetivo principal del whale phishing?',
                        options: ['Robar credenciales masivamente', 'Atacar ejecutivos de alto nivel', 'Distribuir ransomware', 'Realizar DDoS'],
                        correct: 1,
                        explanation: 'Whale phishing apunta específicamente a ejecutivos y personas de alto perfil en organizaciones.'
                    },
                    {
                        q: '¿Qué técnica permite al atacante capturar autenticación 2FA en phishing?',
                        options: ['Session hijacking', 'Man-in-the-middle', 'SQL injection', 'Buffer overflow'],
                        correct: 1,
                        explanation: 'Los ataques man-in-the-middle pueden interceptar tokens 2FA en tiempo real.'
                    }
                ]
            },
            'email-security': {
                title: 'Email Security Protocols',
                questions: [
                    {
                        q: '¿Qué protocolo previene el spoofing del dominio remitente?',
                        options: ['SPF', 'DKIM', 'DMARC', 'Todos los anteriores'],
                        correct: 3,
                        explanation: 'SPF, DKIM y DMARC trabajan en conjunto para prevenir email spoofing.'
                    },
                    {
                        q: '¿Qué significa una política DMARC "p=reject"?',
                        options: ['Monitorear solamente', 'Cuarentena sospechosos', 'Rechazar emails no autenticados', 'Encriptar emails'],
                        correct: 2,
                        explanation: 'La política reject instruye a los servidores receptores a rechazar emails que fallan la autenticación.'
                    },
                    {
                        q: '¿Cuál es la función principal de DKIM?',
                        options: ['Verificar IP del remitente', 'Firmar criptográficamente el email', 'Encriptar el contenido', 'Filtrar spam'],
                        correct: 1,
                        explanation: 'DKIM proporciona una firma digital que verifica la integridad y autenticidad del email.'
                    }
                ]
            },
            'campaign-management': {
                title: 'Campaign Management',
                questions: [
                    {
                        q: '¿Cuál es la métrica más importante para medir el éxito de una campaña de phishing simulation?',
                        options: ['Click-through rate', 'Reporting rate', 'Credential submission rate', 'Todas son importantes'],
                        correct: 3,
                        explanation: 'Una evaluación completa requiere analizar múltiples métricas para obtener una visión holística.'
                    },
                    {
                        q: '¿Con qué frecuencia se deben realizar campañas de phishing simulation?',
                        options: ['Anualmente', 'Semestralmente', 'Trimestralmente', 'Mensualmente'],
                        correct: 2,
                        explanation: 'Las campañas trimestrales mantienen la conciencia sin generar fatiga en los empleados.'
                    },
                    {
                        q: '¿Qué se debe hacer con empleados que fallan repetidamente los tests?',
                        options: ['Disciplina', 'Training adicional', 'Restricción de acceso', 'Todas las anteriores según el caso'],
                        correct: 3,
                        explanation: 'El enfoque debe ser progresivo, comenzando con training y escalando según la necesidad.'
                    }
                ]
            },
            'metrics-analysis': {
                title: 'Metrics & Analysis',
                questions: [
                    {
                        q: '¿Qué representa un "false positive" en el contexto de security awareness?',
                        options: ['Usuario que falla un test legítimo', 'Email legítimo reportado como sospechoso', 'Test que no se entrega', 'Usuario que pasa todos los tests'],
                        correct: 1,
                        explanation: 'Un false positive ocurre cuando se reporta incorrectamente un email legítimo como amenaza.'
                    },
                    {
                        q: '¿Cuál es un benchmark típico de click rate para una organización bien entrenada?',
                        options: ['< 5%', '5-10%', '10-15%', '> 15%'],
                        correct: 0,
                        explanation: 'Organizaciones con programas maduros de security awareness típicamente logran click rates bajo 5%.'
                    },
                    {
                        q: '¿Qué análisis estadístico es más útil para identificar departamentos vulnerables?',
                        options: ['Media', 'Mediana', 'Desviación estándar', 'Análisis de varianza (ANOVA)'],
                        correct: 3,
                        explanation: 'ANOVA permite comparar diferencias estadísticamente significativas entre grupos/departamentos.'
                    }
                ]
            },
            'ethical-framework': {
                title: 'Ethical Framework',
                questions: [
                    {
                        q: '¿Cuál es el principio ético más importante en security testing?',
                        options: ['Eficiencia', 'Consentimiento informado', 'Costo-beneficio', 'Rapidez'],
                        correct: 1,
                        explanation: 'El consentimiento informado es fundamental para cualquier testing ético en seguridad.'
                    },
                    {
                        q: '¿Qué documento debe obtenerse antes de iniciar pentesting?',
                        options: ['NDA', 'Carta de autorización', 'Contrato de servicio', 'Todos los anteriores'],
                        correct: 3,
                        explanation: 'Se requiere documentación completa incluyendo autorización, NDA y términos contractuales.'
                    },
                    {
                        q: '¿Cómo deben manejarse los datos personales durante testing?',
                        options: ['Ignorarlos', 'Recolectar todo', 'Minimizar y proteger', 'Compartir con el equipo'],
                        correct: 2,
                        explanation: 'Se debe seguir el principio de minimización de datos y proteger toda información personal.'
                    }
                ]
            }
        };

        let currentAssessment = null;
        let currentQuestionIndex = 0;
        let assessmentScore = 0;
        let userAnswers = [];

        // Assessment Functions
        function toggleAssessment(element, assessmentType) {
            if (!element.classList.contains('completed')) {
                currentAssessment = assessmentType;
                currentQuestionIndex = 0;
                assessmentScore = 0;
                userAnswers = [];
                
                startAssessmentModal(assessmentType);
            } else {
                alert('Assessment ya completado. Puntuación: ' + assessmentScores[assessmentType] + '/100');
            }
        }

        function startAssessmentModal(assessmentType) {
            const assessment = assessmentQuestions[assessmentType];
            
            // Create modal
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.8);
                z-index: 10000;
                display: flex;
                align-items: center;
                justify-content: center;
            `;
            
            modal.innerHTML = `
                <div style="
                    background: white;
                    border-radius: 12px;
                    padding: 2rem;
                    max-width: 600px;
                    width: 90%;
                    max-height: 80vh;
                    overflow-y: auto;
                ">
                    <div style="text-align: center; margin-bottom: 2rem;">
                        <h2 style="color: #059669; margin-bottom: 0.5rem;">${assessment.title}</h2>
                        <p style="color: #64748b;">Pregunta <span id="currentQ">1</span> de ${assessment.questions.length}</p>
                        <div style="width: 100%; background: #e5e7eb; height: 8px; border-radius: 4px; margin: 1rem 0;">
                            <div id="progressBar" style="width: ${(1/assessment.questions.length)*100}%; height: 100%; background: #059669; border-radius: 4px; transition: width 0.3s;"></div>
                        </div>
                    </div>
                    
                    <div id="questionContainer">
                        <h3 style="margin-bottom: 1.5rem; color: #1e293b;">${assessment.questions[0].q}</h3>
                        <div id="optionsContainer">
                            ${assessment.questions[0].options.map((option, index) => `
                                <div onclick="selectAssessmentOption(${index})" style="
                                    padding: 1rem;
                                    margin: 0.5rem 0;
                                    border: 2px solid #e5e7eb;
                                    border-radius: 8px;
                                    cursor: pointer;
                                    transition: all 0.3s;
                                    background: #f8fafc;
                                " class="assessment-option" data-index="${index}">
                                    ${String.fromCharCode(65 + index)}. ${option}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div id="explanationContainer" style="display: none; margin: 1.5rem 0; padding: 1rem; background: #f0fdf4; border-radius: 8px; border-left: 4px solid #10b981;">
                        <p id="explanationText"></p>
                    </div>
                    
                    <div style="display: flex; justify-content: space-between; margin-top: 2rem; gap: 1rem;">
                        <button onclick="closeAssessmentModal()" style="
                            padding: 0.75rem 1.5rem;
                            border: 2px solid #e5e7eb;
                            background: white;
                            color: #64748b;
                            border-radius: 8px;
                            cursor: pointer;
                            font-weight: 600;
                        ">Cancelar</button>
                        
                        <div>
                            <button id="nextBtn" onclick="nextAssessmentQuestion()" style="
                                padding: 0.75rem 1.5rem;
                                border: none;
                                background: #059669;
                                color: white;
                                border-radius: 8px;
                                cursor: pointer;
                                font-weight: 600;
                                display: none;
                            ">Siguiente</button>
                            
                            <button id="finishBtn" onclick="finishAssessment()" style="
                                padding: 0.75rem 1.5rem;
                                border: none;
                                background: #f59e0b;
                                color: white;
                                border-radius: 8px;
                                cursor: pointer;
                                font-weight: 600;
                                display: none;
                            ">Finalizar</button>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            modal.id = 'assessmentModal';
        }

        function selectAssessmentOption(optionIndex) {
            // Remove previous selections
            document.querySelectorAll('.assessment-option').forEach(opt => {
                opt.style.borderColor = '#e5e7eb';
                opt.style.background = '#f8fafc';
            });
            
            // Highlight selected option
            const selectedOption = document.querySelector(`[data-index="${optionIndex}"]`);
            selectedOption.style.borderColor = '#059669';
            selectedOption.style.background = '#f0fdf4';
            
            // Store answer
            const assessment = assessmentQuestions[currentAssessment];
            const currentQuestion = assessment.questions[currentQuestionIndex];
            const isCorrect = optionIndex === currentQuestion.correct;
            
            userAnswers[currentQuestionIndex] = {
                selected: optionIndex,
                correct: isCorrect
            };
            
            // Show explanation
            const explanationContainer = document.getElementById('explanationContainer');
            const explanationText = document.getElementById('explanationText');
            
            explanationText.innerHTML = `
                <strong>${isCorrect ? '✅ Correcto!' : '❌ Incorrecto.'}</strong><br>
                ${currentQuestion.explanation}
            `;
            
            explanationContainer.style.display = 'block';
            explanationContainer.style.background = isCorrect ? '#f0fdf4' : '#fef2f2';
            explanationContainer.style.borderLeftColor = isCorrect ? '#10b981' : '#ef4444';
            
            // Show next button
            if (currentQuestionIndex < assessment.questions.length - 1) {
                document.getElementById('nextBtn').style.display = 'inline-block';
            } else {
                document.getElementById('finishBtn').style.display = 'inline-block';
            }
        }

        function nextAssessmentQuestion() {
            currentQuestionIndex++;
            const assessment = assessmentQuestions[currentAssessment];
            
            if (currentQuestionIndex < assessment.questions.length) {
                loadAssessmentQuestion();
            }
        }

        function loadAssessmentQuestion() {
            const assessment = assessmentQuestions[currentAssessment];
            const question = assessment.questions[currentQuestionIndex];
            
            // Update progress
            document.getElementById('currentQ').textContent = currentQuestionIndex + 1;
            document.getElementById('progressBar').style.width = `${((currentQuestionIndex + 1)/assessment.questions.length)*100}%`;
            
            // Update question
            document.querySelector('#questionContainer h3').textContent = question.q;
            
            // Update options
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = question.options.map((option, index) => `
                <div onclick="selectAssessmentOption(${index})" style="
                    padding: 1rem;
                    margin: 0.5rem 0;
                    border: 2px solid #e5e7eb;
                    border-radius: 8px;
                    cursor: pointer;
                    transition: all 0.3s;
                    background: #f8fafc;
                " class="assessment-option" data-index="${index}">
                    ${String.fromCharCode(65 + index)}. ${option}
                </div>
            `).join('');
            
            // Hide explanation and buttons
            document.getElementById('explanationContainer').style.display = 'none';
            document.getElementById('nextBtn').style.display = 'none';
            document.getElementById('finishBtn').style.display = 'none';
        }

        function finishAssessment() {
            // Calculate score
            const correctAnswers = userAnswers.filter(answer => answer.correct).length;
            const totalQuestions = assessmentQuestions[currentAssessment].questions.length;
            const score = Math.round((correctAnswers / totalQuestions) * 100);
            
            // Store score
            assessmentScores[currentAssessment] = score;
            
            // Update UI
            const assessmentElement = document.querySelector(`[onclick*="${currentAssessment}"]`);
            if (assessmentElement) {
                assessmentElement.classList.add('completed');
                assessmentElement.querySelector('.assessment-score').textContent = score + '/100';
                assessmentElement.querySelector('.assessment-score').style.color = score >= 85 ? '#10b981' : score >= 70 ? '#f59e0b' : '#ef4444';
            }
            
            // Show results
            alert(`Assessment Completado!\n\n${assessmentQuestions[currentAssessment].title}\n\nRespuestas correctas: ${correctAnswers}/${totalQuestions}\nPuntuación final: ${score}/100\n\n${score >= 85 ? '🎉 Excelente dominio del tema!' : score >= 70 ? '👍 Buen trabajo, considera revisar algunos conceptos.' : '📚 Se recomienda estudiar más este tema antes de continuar.'}`);
            
            closeAssessmentModal();
        }

        function closeAssessmentModal() {
            const modal = document.getElementById('assessmentModal');
            if (modal) {
                modal.remove();
            }
        }

        function startCertification() {
            const avgScore = Object.values(assessmentScores).reduce((a, b) => a + b, 0) / Object.values(assessmentScores).length;
            const completedAssessments = Object.values(assessmentScores).filter(score => score > 0).length;
            
            if (completedAssessments >= 6 && avgScore >= 85) {
                alert('¡Felicitaciones!\n\nCumples los requisitos para la certificación.\n\nEn una implementación real, esto iniciaría el proceso de certificación oficial con examen final y revisión de proyecto.');
                
                // Update progress
                moduleProgress = Math.min(moduleProgress + 20, 100);
                updateProgress();
            } else {
                alert(`Requisitos para certificación:\n\n✓ Completar todos los assessments: ${completedAssessments}/6\n${avgScore >= 85 ? '✓' : '✗'} Promedio mínimo 85%: ${avgScore.toFixed(1)}%\n\nCompleta los requisitos faltantes para continuar.`);
            }
        }

        // Initialize on load
        document.addEventListener('DOMContentLoaded', initializePage);
    </script>
    
</body>
</html>